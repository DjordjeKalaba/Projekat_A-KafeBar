<Page x:Class="Projekat_A_KafeBar.RacunDetaljiPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Projekat_A_KafeBar"
      xmlns:sys="clr-namespace:System;assembly=mscorlib"
      mc:Ignorable="d" 
      d:DesignHeight="600" d:DesignWidth="900"
      Title="RacunDetaljiPage">

    <Grid Background="{DynamicResource BackgroundBrush}" Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Naslov -->
        <TextBlock x:Name="NaslovTextBlock"
                   Text="{DynamicResource RacunDetalji_Title}" 
                   FontSize="28" 
                   FontWeight="Bold" 
                   HorizontalAlignment="Center"
                   Margin="0,0,0,10"
                   Foreground="{DynamicResource ForegroundBrush}"/>

        <!-- Glavni sadržaj -->
        <StackPanel Grid.Row="1" Width="860" HorizontalAlignment="Center">

            <!-- Informacije o računu -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock x:Name="RacunIDTextBlock" Text="{DynamicResource RacunDetalji_Label_RacunID}" Width="100" VerticalAlignment="Center" Foreground="{DynamicResource ForegroundBrush}"/>
                <TextBox x:Name="RacunIdBox" Width="120" IsReadOnly="True" Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}" BorderBrush="{DynamicResource BorderBrush}"/>

                <TextBlock x:Name="ZaposleniTextBlock" Text="{DynamicResource RacunDetalji_Label_Zaposleni}" Width="100" Margin="20,0,0,0" VerticalAlignment="Center" Foreground="{DynamicResource ForegroundBrush}"/>
                <TextBox x:Name="ZaposleniBox" Width="220" IsReadOnly="True" Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}" BorderBrush="{DynamicResource BorderBrush}"/>

                <TextBlock x:Name="UkupanIznosTextBlock" Text="{DynamicResource RacunDetalji_Label_UkupanIznos}" Width="120" Margin="20,0,0,0" VerticalAlignment="Center" Foreground="{DynamicResource ForegroundBrush}"/>
                <TextBox x:Name="UkupanIznosBox" Width="140" IsReadOnly="True" Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}" BorderBrush="{DynamicResource BorderBrush}"/>
            </StackPanel>

            <!-- Lista stavki u ScrollViewer-u -->
            <ScrollViewer VerticalScrollBarVisibility="Auto" Height="300">
                <DataGrid x:Name="StavkeDataGrid" 
                          AutoGenerateColumns="False" 
                          CanUserAddRows="False"
                          Height="Auto"
                          Width="860"
                          Background="{DynamicResource BackgroundBrush}"
                          Foreground="{DynamicResource ForegroundBrush}"
                          BorderBrush="{DynamicResource BorderBrush}">
                    <DataGrid.Columns>
                        <DataGridTextColumn x:Name="ColProizvod" Header="{DynamicResource RacunDetalji_Col_Proizvod}" Binding="{Binding Naziv}" Width="*"/>
                        <DataGridTextColumn x:Name="ColCijena" Header="{DynamicResource RacunDetalji_Col_Cijena}" Binding="{Binding Cijena}" Width="120"/>
                        <DataGridTextColumn x:Name="ColKolicina" Header="{DynamicResource RacunDetalji_Col_Kolicina}" Binding="{Binding Kolicina}" Width="100"/>
                        <DataGridTextColumn x:Name="ColUkupno" Header="{DynamicResource RacunDetalji_Col_Ukupno}" Binding="{Binding Ukupno}" Width="120"/>
                    </DataGrid.Columns>
                </DataGrid>
            </ScrollViewer>

            <!-- Dodavanje proizvoda -->
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <TextBlock x:Name="KategorijaTextBlock" Text="{DynamicResource RacunDetalji_Label_Kategorija}" Width="90" VerticalAlignment="Center" Foreground="{DynamicResource ForegroundBrush}"/>
                <ComboBox x:Name="KategorijaComboBox" Width="200" DisplayMemberPath="Naziv" SelectedValuePath="IdKategorije" Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}" SelectionChanged="KategorijaComboBox_SelectionChanged"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <TextBlock x:Name="ProizvodTextBlock" Text="{DynamicResource RacunDetalji_Label_Proizvod}" Width="90" VerticalAlignment="Center" Foreground="{DynamicResource ForegroundBrush}"/>
                <ComboBox x:Name="ProizvodComboBox" Width="200" DisplayMemberPath="Naziv" SelectedValuePath="IdProizvoda" Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}"/>

                <TextBlock x:Name="KolicinaTextBlock" Text="{DynamicResource RacunDetalji_Label_Kolicina}" Margin="20,0,0,0" Width="70" VerticalAlignment="Center" Foreground="{DynamicResource ForegroundBrush}"/>
                <TextBox x:Name="KolicinaBox" Width="100" Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}" BorderBrush="{DynamicResource BorderBrush}"/>

                <Button x:Name="DodajButton" Content="{DynamicResource RacunDetalji_Button_Dodaj}" Width="120" Margin="20,0,0,0" Background="{DynamicResource PrimaryBrush}" Foreground="{DynamicResource ForegroundBrush}" FontWeight="Bold" Click="Dodaj_Click"/>
            </StackPanel>
        </StackPanel>

        <!-- Dugmad -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,10,0">
            <Button x:Name="SacuvajRacunButton" Content="{DynamicResource RacunDetalji_Button_Sacuvaj}" Width="160" Height="35" Margin="0,0,10,0" Background="{DynamicResource PrimaryBrush}" Foreground="{DynamicResource ForegroundBrush}" FontWeight="Bold" Click="SacuvajRacun_Click"/>
            <Button x:Name="ZavrsiRacunButton" Content="{DynamicResource RacunDetalji_Button_Zavrsi}" Width="160" Height="35" Margin="0,0,10,0" Background="{DynamicResource SecondaryBrush}" Foreground="{DynamicResource ForegroundBrush}" FontWeight="Bold" Click="ZavrsiRacun_Click"/>
            <Button x:Name="Nazad" Content="{DynamicResource RacunDetalji_Button_Nazad}" Width="120" Height="35" Background="{DynamicResource PrimaryBrush}" Foreground="{DynamicResource ForegroundBrush}" Click="Nazad_Click"/>
        </StackPanel>
    </Grid>
</Page>
